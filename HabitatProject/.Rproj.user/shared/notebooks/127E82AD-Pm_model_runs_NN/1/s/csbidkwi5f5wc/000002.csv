"0","# NNs don't do well with unscaled data. Scale it and then unscale it at the end."
"0",""
"0","# Scale Joint training data for the NN"
"0","covars_Joint_max.train <- apply(Joint.train.NoNa, 2, max, na.rm = TRUE) "
"0","covars_Joint_min.train <- apply(Joint.train.NoNa, 2, min, na.rm = TRUE)"
"0","Joint_train_scaled <- as.data.frame(scale(Joint.train.NoNa, "
"0","                        center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","Joint_train_scaled$y <- Joint.train.NoNa$y"
"0","Joint_train_scaled$ySqrt <- Joint.train.NoNa$ySqrt"
"0","Joint_train_scaled$weightsG0<-joint_train_weightsG0[goodData_Joint]"
"0",""
"0","# Scale Ac only training data for the NN"
"0","AcOnly_train_scaled <- as.data.frame(scale(AcOnly.train.NoNa, "
"0","                          center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","AcOnly_train_scaled$yAcOnly <- AcOnly.train.NoNa$yAcOnly"
"0","AcOnly_train_scaled$yAcOnlySqrt <- AcOnly.train.NoNa$yAcOnlySqrt"
"0",""
"0","# Scale Vis only training data for the NN"
"0","VisOnly_train_scaled <- as.data.frame(scale(VisOnly.train.NoNa, "
"0","                          center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","VisOnly_train_scaled$yVisOnly <- VisOnly.train.NoNa$yVisOnly"
"0","VisOnly_train_scaled$yVisOnlySqrt <- VisOnly.train.NoNa$yVisOnlySqrt"
"0","VisOnly_train_scaled$weightsG0<-VisOnly.train_weightsG0[goodData_Vis]"
"0",""
"0",""
"0","# Scale Ac only test data for the NN"
"0","AcOnly_test_scaled <- as.data.frame(scale(AcOnly.test.NoNa, "
"0","                        center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","AcOnly_test_scaled$yAcOnly <- AcOnly.test.NoNa$yAcOnly"
"0","AcOnly_test_scaled$yAcOnlySqrt <- AcOnly.test.NoNa$yAcOnlySqrt"
"0",""
"0","# Scale Vis only test data for the NN"
"0","VisOnly_test_scaled <- as.data.frame(scale(VisOnly.test.NoNa, "
"0","                        center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","VisOnly_test_scaled$yVisOnly <- VisOnly.test.NoNa$yVisOnly"
"0","VisOnly_test_scaled$yVisOnlySqrt <- VisOnly.test.NoNa$yVisOnlySqrt"
"0","VisOnly_test_scaled$weightsG0<-VisOnly.test_weightsG0[goodData_Vis_test]"
"0",""
"0",""
"0","# Scale Joint test data for the NN"
"0","Joint_test_scaled <- as.data.frame(scale(Joint.test.NoNa, "
"0","                        center = covars_Joint_min.train, "
"0","                        scale = covars_Joint_max.train-covars_Joint_min.train))"
"0","Joint_test_scaled$y <- Joint.test.NoNa$y"
"0","Joint_test_scaled$ySqrt <- Joint.test.NoNa$ySqrt"
"0","Joint_test_scaled$weightsG0<-joint_test_weightsG0[goodData_Joint_test]"
"0",""
"0","n <- names(Joint_test_scaled)"
"0",""
"0",""
"0","# save ranges of each scaled covariate in training set (max and min)"
"0","JointRangesMax <- apply(Joint_train_scaled, MARGIN = 2, "
"0","                        function(x) max(x, na.rm =TRUE))"
"0","JointRangesMin <- apply(Joint_train_scaled, MARGIN = 2, "
"0","                        function(x) min(x, na.rm =TRUE))"
"0",""
"0","AcOnlyRangesMax <- apply(AcOnly_train_scaled, MARGIN = 2,"
"0","                         function(x) max(x, na.rm =TRUE))"
"0","AcOnlyRangesMin <- apply(AcOnly_train_scaled, MARGIN = 2,"
"0","                         function(x) min(x, na.rm =TRUE))"
"0",""
"0","VisOnlyRangesMax <- apply(VisOnly_train_scaled, MARGIN = 2,"
"0","                          function(x) max(x, na.rm =TRUE))"
"0","VisOnlyRangesMin <- apply(VisOnly_train_scaled, MARGIN = 2,"
"0","                          function(x) min(x, na.rm=TRUE))"
